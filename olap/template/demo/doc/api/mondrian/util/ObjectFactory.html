<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Fri Jul 22 11:20:36 EDT 2016 -->
<title>ObjectFactory (Mondrian OLAP Engine, version 3.13-SNAPSHOT)</title>
<meta name="date" content="2016-07-22">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ObjectFactory (Mondrian OLAP Engine, version 3.13-SNAPSHOT)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../mondrian/util/NotificationMemoryMonitor.html" title="class in mondrian.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../mondrian/util/ObjectFactory.Context.html" title="interface in mondrian.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?mondrian/util/ObjectFactory.html" target="_top">Frames</a></li>
<li><a href="ObjectFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">mondrian.util</div>
<h2 title="Class ObjectFactory" class="title">Class ObjectFactory&lt;V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>mondrian.util.ObjectFactory&lt;V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../mondrian/calc/ExpCompiler.Factory.html" title="class in mondrian.calc">ExpCompiler.Factory</a>, <a href="../../mondrian/util/ObjectFactory.Singleton.html" title="class in mondrian.util">ObjectFactory.Singleton</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">ObjectFactory&lt;V&gt;</span>
extends <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Concrete derived classes of the generic <code>ObjectFactory</code> class
 are used to produce an implementation of an interface (a
 normal interface implementation or a Proxy). In general, a
 factory should produce a default implementation for general application
 use as well as particular implementations used during testing.
 During testing of application code and during normal execution,
 the application code uses one of the <code>ObjectFactory</code>'s
 methods for producing implementation instances - the same method is
 used both for test and non-test modes. There are two ways of
 modifying the implementation returned to the application code.

 <p>The first is for the application to use Properties.
 The <code>ObjectFactory</code> implementation looks for a given
 property (by default the name of the property is the class name
 of the interfaceClass object) and if found uses it as the classname
 to create.</p>

 <p>A second approach is to use a ThreadLocal; if the ThreadLocal
 is non-empty then use it as the class name.</p>

 <p>When to use a Factory?

 <p>Everyone has an opinion. For me, there are two criteria: enabling
 unit testing and providing end-user/developer-customizer overriding.

 <p>If a method has side-effects, either its result depends upon
 a side-effect or calling it causes a side-effect, then the Object
 hosting the method is a candidate for having a factory. Why?
 Well, consider the case where a method returns the value of
 a System property and the System property is determined only once
 and set to a static final variable:

 <pre>
      class OneValue {
          private static final boolean propValue;
          static {
              propValue = Boolean.getBoolean("com.app.info.value");
          }
          .....
          public boolean hasInfo() {
              return propValue;
          }
      }
 </pre>

 <p>In this case, only one value is ever returned. If you have a
 module, a client of the above code, that uses the value returned
 by a call to the
 <code>hasInfo()</code> method, how do you write a unit test of
 your module that tests both possible return values?
 You can not, its value is based upon a side-effect, an external
 value that can not be controlled by the unit test.</p>

 <p>If the <code>OneValue</code> class was an interface and there was a
 factory, then the unit test could arrange that its own version of the
 <code>OneValue</code>
 interface was returned and in one test arrange that <code>true</code>
 was returned and in a second test, arrange that <code>false</code>
 was returned.</p>

 <p>The above is a trivial example of code that disallows clients of the
 code from being properly tested.</p>

 <p>Another example might be a module that directly initializes a JMS
 queue and receives JMS message
 from the JMS queue. This code can not be tested without having a live
 JMS queue. On the other hand, if one defines an interface allowing
 one to wrap access to the JMS queue and accesses the implementation
 via a factory, then unit tests can be create that use a mock
 JMS queue.</p>

 <p>With regards to providing end-user/developer-customizer overriding,
 its generally good to have a flexible application framework.
 Experimental or just different implementations can be developed and
 tested without having to touch a lot of the application code itself.</p>

 <p>There is, of course, a trade-off between the use of a factory
 and the size or simplicity of the object being created.</p>

 <p>What are the requirements for a template ObjectFactory?</p>

 <p>First, every implementation must support the writing of unit tests.
 What this means it that test cases can override what the factory
 produces. The test cases can all use the same produced Object or
 each can request an Object targeted to its particular test. All this
 without changing the <code>default</code> behavior of the factory.</p>

 <p>Next, it should be possible to create a factory from the template that
 is intended to deliver the same Object each time it is called, a
 different, new Object each time it is called, or, based on the
 calling environment (parameters, properties, <code>ThreadLocal</code>,
 etc.) one of a set of Objects. These are possible <code>default</code>
 behaviors, but, again, they can be overridden for test purposes.</p>

 <p>While a factory has a <code>default</code> behavior in an
 application, it must be possible for every factory's behavior
 in that application to be globally overridden. What that means is
 if the application designer has dictated a <code>default</code>, the
 application user should be able to change the default. An example of
 this is overriding what Object is returned based upon a
 <code>System</code> property value.</p>

 <p>Lastly, every factory is a singleton - if an interface with
 an implementation whose creation is mediated by a factory, then
 there is a single factory that does that creating.
 This does not mean that such a factory always return the same value,
 rather that there is only one instance of the factory itself.</p>

 <p>The following is an example class that generates a factory
 singleton. In this case, the factory extends the
 <code>ObjectFactory</code>
 rather than the <code>ObjectFactory.Singleton</code>:</p>

 <pre>

      public final class FooFactory extends ObjectFactory<Foo> {
          // The single instance of the factory
          private static final FooFactory factory;
          static {
              factory = new FooFactory();
          }
          public static FooFactory instance() {
              return factory;
          }
          ..........
          private FooFactory() {
              super(Foo.class);
          }
          ..........
      }

 </pre>

 <p>There are multiple ways of creating derived classes that have support
 for unit testing. A very simple way is to use <code>ThreadLocal</code>s.</p>

 <pre>

          private static final ThreadLocal ClassName = new ThreadLocal();
          private static String getThreadLocalClassName() {
              return (String) ClassName.get();
          }
          public static void setThreadLocalClassName(String className) {
              ClassName.set(className);
          }
          public static void clearThreadLocalClassName() {
              ClassName.set(null);
          }
          ..........
          protected String getClassName() {
              return getThreadLocalClassName();
          }

 </pre>

 <p>Here, the unit test will call the <code>setThreadLocalClassName</code>
 method setting it with the class name of a specialized implementation of
 the template interface. In the <code>finally</code> clause of the
 unit test, it is very important that there be a call to the
 <code>clearThreadLocalClassName</code> method so that other
 tests, etc. do not get an instance of the test-specific specialized
 implementation.</p>

 <p>The following is an example unit test that uses the factory's
 <code>ThreadLocal</code> to override the implementation that is returned.</p>

 <pre>
      interface Boo {
          boolean getValue();
          .......
      }
      class NormalBooImpl implements Boo {
          public boolean getValue() { ... }
          .......
      }
      class MyCode {
          private Boo boo;
          MyCode() {
              boo = BooFactory.instance().getObject();
          }
          .......
          int getValue() {
              if (boo.getValue()) {
                  return 1;
              } else {
                  return 0;
              }

          }
      }

      class MyCodeTest {
          private static boolean testValue;
          static class BooTest1 implements Boo {
              public boolean getValue() {
                  return MyTest.testValue;
              }
              .....
          }
          static class BooTest2 implements
                      java.lang.reflect.InvocationHandler {
              private final Boo boo;
              public BooTest2() {
                  // remove test class name
                  BooFactory.clearThreadLocalClassName();
                  // get default Boo implementation
                  this.boo = BooFactory.instance().getObject();
              }
              public Object invoke(Object proxy, Method method, Object[] args)
                  throws Throwable {
                  if (method.getName().equals("getValue")) [
                      return new Boolean(MyTest.testValue);
                  } else {
                      return method.invoke(this.boo, args);
                  }
              }
          }
          public void test1() {
              try {
                  // Factory will creates test class
                  BooFactory.setThreadLocalClassName("MyTest.BooTest1");

                  MyTest.testValue = true;
                  MyCode myCode = new MyCode();
                  int value = myCode.getValue();
                  assertTrue("Value not 1", (value == 1));

                  MyTest.testValue = false;
                  myCode = new MyCode();
                  value = myCode.getValue();
                  assertTrue("Value not 0", (value == 0));
              } finally {
                  BooFactory.clearThreadLocalClassName();
              }
          }
          public void test2() {
              try {
                  // Use InvocationHandler and Factory Proxy capability
                  BooFactory.setThreadLocalClassName("MyTest.BooTest2");

                  MyTest.testValue = true;
                  MyCode myCode = new MyCode();
                  int value = myCode.getValue();
                  assertTrue("Value not 1", (value == 1));

                  MyTest.testValue = false;
                  myCode = new MyCode();
                  value = myCode.getValue();
                  assertTrue("Value not 0", (value == 0));
              } finally {
                  BooFactory.clearThreadLocalClassName();
              }
          }
      }

 </pre>

 <p>While this is a very simple example, it shows how using such factories
 can aid in creating testable code. The MyCode method is a client of
 the Boo implementation. How to test the two different code branches the
 method can take? Because the Boo object is generated by a factory,
 one can override what object the factory returns.</p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>Feb 01 2007</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Richard M. Emberson</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.Context.html" title="interface in mondrian.util">ObjectFactory.Context</a></strong></code>
<div class="block">This is for testing only.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.Singleton.html" title="class in mondrian.util">ObjectFactory.Singleton</a>&lt;<a href="../../mondrian/util/ObjectFactory.Singleton.html" title="type parameter in ObjectFactory.Singleton">T</a>&gt;</strong></code>
<div class="block">Implementation of ObjectFactory
 that returns only a single instance of the Object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#ObjectFactory(java.lang.Class)">ObjectFactory</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&gt;&nbsp;interfaceClass)</code>
<div class="block">Creates a new factory object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getClassName()">getClassName</a></strong>()</code>
<div class="block">Returns the name of a class to use to create an object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getClassName(java.util.Properties)">getClassName</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</code>
<div class="block">Returns the name of a class to use to create an object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getDefault(java.lang.Class[], java.lang.Object[])">getDefault</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)</code>
<div class="block">For most uses (other than testing) this is the method that derived
 classes implement that return the desired object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getObject()">getObject</a></strong>()</code>
<div class="block">Constructs an object where the System Properties can be used
 to look up a class name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getObject(java.lang.Class[], java.lang.Object[])">getObject</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
         <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)</code>
<div class="block">Constructs an object where the <code>parameterTypes</code> and
 <code>parameterValues</code> are constructor parameters and
 System Properties are used to look up a class name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getObject(java.util.Properties)">getObject</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</code>
<div class="block">Constructs an object where the <code>Properties</code> parameter can
 be used to look up a class name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getObject(java.util.Properties, java.lang.Class[], java.lang.Object[])">getObject</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props,
         <a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
         <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)</code>
<div class="block">Constructs an object where the <code>parameterTypes</code> and
 <code>parameterValues</code> are constructor parameters and
 Properties parameter is used to look up a class name.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getObject(java.lang.String, java.lang.Class[], java.lang.Object[])">getObject</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
         <a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
         <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)</code>
<div class="block">Creates an instance with the given <code>className</code>,
 <code>parameterTypes</code> and <code>parameterValues</code> or
 throw a <code>CreationException</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected abstract <a href="http://farrago.sourceforge.net/api/org/eigenbase/util/property/StringProperty.html?is-external=true" title="class or interface in org.eigenbase.util.property">StringProperty</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#getStringProperty()">getStringProperty</a></strong>()</code>
<div class="block">Return the <code>StringProperty</code> associated with this factory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#removeContext()">removeContext</a></strong>()</code>
<div class="block">Gets the current override values in the opaque context object and
 clears those values within the Factory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/util/ObjectFactory.html#restoreContext(java.lang.Object)">restoreContext</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;context)</code>
<div class="block">Restores the context object resetting override values.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ObjectFactory(java.lang.Class)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ObjectFactory</h4>
<pre>protected&nbsp;ObjectFactory(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&gt;&nbsp;interfaceClass)</pre>
<div class="block">Creates a new factory object. The <code>interfaceClass</code> parameter
 is used to cast the object generated to type right type.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>interfaceClass</code> - the class object for the interface implemented
 by the objects returned by this factory</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getObject()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObject</h4>
<pre>protected final&nbsp;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&nbsp;getObject()
                     throws <a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></pre>
<div class="block">Constructs an object where the System Properties can be used
 to look up a class name.
 The constructor for the object takes no parameters.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the newly created object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></code> - if unable to create the object</dd></dl>
</li>
</ul>
<a name="getObject(java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObject</h4>
<pre>protected final&nbsp;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&nbsp;getObject(<a href="http://java.sun.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)
                     throws <a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></pre>
<div class="block">Constructs an object where the <code>Properties</code> parameter can
 be used to look up a class name.
 The constructor for the object takes no parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>props</code> - the property definitions to use to determine the
 implementation class</dd>
<dt><span class="strong">Returns:</span></dt><dd>the newly created object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></code> - if unable to create the object</dd></dl>
</li>
</ul>
<a name="getObject(java.lang.Class[], java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObject</h4>
<pre>protected final&nbsp;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&nbsp;getObject(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)
                     throws <a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></pre>
<div class="block">Constructs an object where the <code>parameterTypes</code> and
 <code>parameterValues</code> are constructor parameters and
 System Properties are used to look up a class name.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parameterTypes</code> - the class parameters that define the signature
 of the constructor to use</dd><dd><code>parameterValues</code> - the values to use to construct the current
 instance of the object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the newly created object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></code> - if unable to create the object</dd></dl>
</li>
</ul>
<a name="getObject(java.util.Properties, java.lang.Class[], java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObject</h4>
<pre>protected&nbsp;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&nbsp;getObject(<a href="http://java.sun.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)
               throws <a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></pre>
<div class="block">Constructs an object where the <code>parameterTypes</code> and
 <code>parameterValues</code> are constructor parameters and
 Properties parameter is used to look up a class name.
 <p>
 This returns a new instance of the Object each time its
 called (assuming that if the method <code>getDefault</code>,
 which derived classes implement), if called, creates a new
 object each time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>props</code> - the property definitions to use to determine the</dd><dd><code>parameterTypes</code> - the class parameters that define the signature
 of the constructor to use</dd><dd><code>parameterValues</code> - the values to use to construct the current
 instance of the object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the newly created object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></code> - if unable to create the object</dd></dl>
</li>
</ul>
<a name="getObject(java.lang.String, java.lang.Class[], java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObject</h4>
<pre>protected&nbsp;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&nbsp;getObject(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)
               throws <a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></pre>
<div class="block">Creates an instance with the given <code>className</code>,
 <code>parameterTypes</code> and <code>parameterValues</code> or
 throw a <code>CreationException</code>. There are two different
 mechanims available. The first is to uses reflection
 to create the instance typing the generated Object based upon
 the <code>interfaceClass</code> factory instance object.
 With the second the <code>className</code> is an class that implements
 the <code>InvocationHandler</code> interface and in this case
 the <code>java.lang.reflect.Proxy</code> class is used to
 generate a proxy.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - the class name used to create Object instance</dd><dd><code>parameterTypes</code> - the class parameters that define the signature
 of the constructor to use</dd><dd><code>parameterValues</code> - the values to use to construct the current
 instance of the object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the newly created object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></code> - if unable to create the object</dd></dl>
</li>
</ul>
<a name="getClassName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassName</h4>
<pre>protected&nbsp;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getClassName()</pre>
<div class="block">Returns the name of a class to use to create an object.
 The default implementation returns null but derived
 classes can return a class name.
 <p>
 This method is the primary mechanism for supporting Unit testing.
 A derived class can have, as an example, this method return
 the value of a <code>ThreadLocal</code>. For testing it
 return a class name while for normal use it returns <code>null</code>.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>null</code> or a class name</dd></dl>
</li>
</ul>
<a name="getClassName(java.util.Properties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassName</h4>
<pre>protected&nbsp;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getClassName(<a href="http://java.sun.com/javase/7/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;props)</pre>
<div class="block">Returns the name of a class to use to create an object.
 The factory's <code>StringProperty</code> is gotten and
 if it has a non-null value, then that is returned. Otherwise,
 the <code>StringProperty</code>'s name (path) is used as the
 name to probe the <code>Properties</code> object for a value.
 This method is allowed to return null.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>null</code> or a class name</dd></dl>
</li>
</ul>
<a name="getStringProperty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStringProperty</h4>
<pre>protected abstract&nbsp;<a href="http://farrago.sourceforge.net/api/org/eigenbase/util/property/StringProperty.html?is-external=true" title="class or interface in org.eigenbase.util.property">StringProperty</a>&nbsp;getStringProperty()</pre>
<div class="block">Return the <code>StringProperty</code> associated with this factory.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the  <code>StringProperty</code></dd></dl>
</li>
</ul>
<a name="getDefault(java.lang.Class[], java.lang.Object[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefault</h4>
<pre>protected abstract&nbsp;<a href="../../mondrian/util/ObjectFactory.html" title="type parameter in ObjectFactory">V</a>&nbsp;getDefault(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>[]&nbsp;parameterTypes,
           <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;parameterValues)
                         throws <a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></pre>
<div class="block">For most uses (other than testing) this is the method that derived
 classes implement that return the desired object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parameterTypes</code> - the class parameters that define the signature
 of the constructor to use</dd><dd><code>parameterValues</code> - the values to use to construct the current
 instance of the object</dd>
<dt><span class="strong">Returns:</span></dt><dd>the newly created object</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../mondrian/util/CreationException.html" title="class in mondrian.util">CreationException</a></code> - if unable to create the object</dd></dl>
</li>
</ul>
<a name="removeContext()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeContext</h4>
<pre>public&nbsp;<a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;removeContext()</pre>
<div class="block">Gets the current override values in the opaque context object and
 clears those values within the Factory.

 <p>This is used in testing.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the test <code>Context</code> object.</dd></dl>
</li>
</ul>
<a name="restoreContext(java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>restoreContext</h4>
<pre>public&nbsp;void&nbsp;restoreContext(<a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;context)</pre>
<div class="block">Restores the context object resetting override values.

 <p>This is used in testing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - the context object to be restored.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href="http://sourceforge.net/projects/mondrian"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=35302&type=15" width="150" height="40" border="0" alt='Get Mondrian at SourceForge.net. Fast, secure and free Open Source software downloads'></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../mondrian/util/NotificationMemoryMonitor.html" title="class in mondrian.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../mondrian/util/ObjectFactory.Context.html" title="interface in mondrian.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?mondrian/util/ObjectFactory.html" target="_top">Frames</a></li>
<li><a href="ObjectFactory.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
