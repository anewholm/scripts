<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Fri Jul 22 11:20:31 EDT 2016 -->
<title>FastBatchingCellReader (Mondrian OLAP Engine, version 3.13-SNAPSHOT)</title>
<meta name="date" content="2016-07-22">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="FastBatchingCellReader (Mondrian OLAP Engine, version 3.13-SNAPSHOT)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../mondrian/rolap/DescendantsConstraint.html" title="class in mondrian.rolap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../mondrian/rolap/FastBatchingCellReaderTest.html" title="class in mondrian.rolap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?mondrian/rolap/FastBatchingCellReader.html" target="_top">Frames</a></li>
<li><a href="FastBatchingCellReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">mondrian.rolap</div>
<h2 title="Class FastBatchingCellReader" class="title">Class FastBatchingCellReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>mondrian.rolap.FastBatchingCellReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../mondrian/rolap/CellReader.html" title="interface in mondrian.rolap">CellReader</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">FastBatchingCellReader</span>
extends <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../mondrian/rolap/CellReader.html" title="interface in mondrian.rolap">CellReader</a></pre>
<div class="block">A <code>FastBatchingCellReader</code> doesn't really Read cells: when asked
 to look up the values of stored measures, it lies, and records the fact
 that the value was asked for.  Later, we can look over the values which
 are required, fetch them in an efficient way, and re-run the evaluation
 with a real evaluator.

 <p>NOTE: When it doesn't know the answer, it lies by returning an error
 object.  The calling code must be able to deal with that.</p>

 <p>This class tries to minimize the amount of storage needed to record the
 fact that a cell was requested.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#FastBatchingCellReader(mondrian.server.Execution, mondrian.rolap.RolapCube, mondrian.rolap.agg.AggregationManager)">FastBatchingCellReader</a></strong>(<a href="../../mondrian/server/Execution.html" title="class in mondrian.server">Execution</a>&nbsp;execution,
                      <a href="../../mondrian/rolap/RolapCube.html" title="class in mondrian.rolap">RolapCube</a>&nbsp;cube,
                      <a href="../../mondrian/rolap/agg/AggregationManager.html" title="class in mondrian.rolap.agg">AggregationManager</a>&nbsp;aggMgr)</code>
<div class="block">Creates a FastBatchingCellReader.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#get(mondrian.rolap.RolapEvaluator)">get</a></strong>(<a href="../../mondrian/rolap/RolapEvaluator.html" title="class in mondrian.rolap">RolapEvaluator</a>&nbsp;evaluator)</code>
<div class="block">Returns the value of the cell which has the context described by the
 evaluator.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../mondrian/spi/Dialect.html" title="interface in mondrian.spi">Dialect</a></code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#getDialect()">getDialect</a></strong>()</code>
<div class="block">Returns the SQL dialect.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#getHitCount()">getHitCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#getMissCount()">getMissCount</a></strong>()</code>
<div class="block">Returns the number of times this cell reader has told a lie
 (since creation), because the required cell value is not in the
 cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#getPendingCount()">getPendingCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#isDirty()">isDirty</a></strong>()</code>
<div class="block">Returns whether this reader has told a lie.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#loadAggregations()">loadAggregations</a></strong>()</code>
<div class="block">Resolves any pending cell reads using the cache.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#recordCellRequest(mondrian.rolap.agg.CellRequest)">recordCellRequest</a></strong>(<a href="../../mondrian/rolap/agg/CellRequest.html" title="class in mondrian.rolap.agg">CellRequest</a>&nbsp;request)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../mondrian/rolap/FastBatchingCellReader.html#setDirty(boolean)">setDirty</a></strong>(boolean&nbsp;dirty)</code>
<div class="block">Sets the flag indicating that the reader has told a lie.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FastBatchingCellReader(mondrian.server.Execution, mondrian.rolap.RolapCube, mondrian.rolap.agg.AggregationManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FastBatchingCellReader</h4>
<pre>public&nbsp;FastBatchingCellReader(<a href="../../mondrian/server/Execution.html" title="class in mondrian.server">Execution</a>&nbsp;execution,
                      <a href="../../mondrian/rolap/RolapCube.html" title="class in mondrian.rolap">RolapCube</a>&nbsp;cube,
                      <a href="../../mondrian/rolap/agg/AggregationManager.html" title="class in mondrian.rolap.agg">AggregationManager</a>&nbsp;aggMgr)</pre>
<div class="block">Creates a FastBatchingCellReader.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>execution</code> - Execution that calling statement belongs to. Allows us
                  to check for cancel</dd><dd><code>cube</code> - Cube that requests belong to</dd><dd><code>aggMgr</code> - Aggregation manager</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="get(mondrian.rolap.RolapEvaluator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;<a href="http://java.sun.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;get(<a href="../../mondrian/rolap/RolapEvaluator.html" title="class in mondrian.rolap">RolapEvaluator</a>&nbsp;evaluator)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../mondrian/rolap/CellReader.html#get(mondrian.rolap.RolapEvaluator)">CellReader</a></code></strong></div>
<div class="block">Returns the value of the cell which has the context described by the
 evaluator.
 A cell could have optional compound member coordinates usually specified
 using the Aggregate function. These compound members are contained in the
 evaluator.

 <p>If no aggregation contains the required cell, returns null.

 <p>If the value is null, returns <a href="../../mondrian/olap/Util.html#nullValue"><code>Util.nullValue</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mondrian/rolap/CellReader.html#get(mondrian.rolap.RolapEvaluator)">get</a></code>&nbsp;in interface&nbsp;<code><a href="../../mondrian/rolap/CellReader.html" title="interface in mondrian.rolap">CellReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>Cell value, or null if not found, or <a href="../../mondrian/olap/Util.html#nullValue"><code>Util.nullValue</code></a> if
 the value is null</dd></dl>
</li>
</ul>
<a name="getMissCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMissCount</h4>
<pre>public&nbsp;int&nbsp;getMissCount()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../mondrian/rolap/CellReader.html#getMissCount()">CellReader</a></code></strong></div>
<div class="block">Returns the number of times this cell reader has told a lie
 (since creation), because the required cell value is not in the
 cache.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mondrian/rolap/CellReader.html#getMissCount()">getMissCount</a></code>&nbsp;in interface&nbsp;<code><a href="../../mondrian/rolap/CellReader.html" title="interface in mondrian.rolap">CellReader</a></code></dd>
</dl>
</li>
</ul>
<a name="getHitCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHitCount</h4>
<pre>public&nbsp;int&nbsp;getHitCount()</pre>
</li>
</ul>
<a name="getPendingCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPendingCount</h4>
<pre>public&nbsp;int&nbsp;getPendingCount()</pre>
</li>
</ul>
<a name="recordCellRequest(mondrian.rolap.agg.CellRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordCellRequest</h4>
<pre>public final&nbsp;void&nbsp;recordCellRequest(<a href="../../mondrian/rolap/agg/CellRequest.html" title="class in mondrian.rolap.agg">CellRequest</a>&nbsp;request)</pre>
</li>
</ul>
<a name="isDirty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirty</h4>
<pre>public&nbsp;boolean&nbsp;isDirty()</pre>
<div class="block">Returns whether this reader has told a lie. This is the case if there
 are pending batches to load or if <a href="../../mondrian/rolap/FastBatchingCellReader.html#setDirty(boolean)"><code>setDirty(boolean)</code></a> has been
 called.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../mondrian/rolap/CellReader.html#isDirty()">isDirty</a></code>&nbsp;in interface&nbsp;<code><a href="../../mondrian/rolap/CellReader.html" title="interface in mondrian.rolap">CellReader</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>whether thus cell reader has any pending cell requests that are
 not loaded yet.</dd></dl>
</li>
</ul>
<a name="loadAggregations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadAggregations</h4>
<pre>boolean&nbsp;loadAggregations()</pre>
<div class="block">Resolves any pending cell reads using the cache. After calling this
 method, all cells requested in a given batch are loaded into this
 statement's local cache.

 <p>The method is implemented by making an asynchronous call to the cache
 manager. The result is a list of segments that satisfies every cell
 request.</p>

 <p>The client should put the resulting segments into its "query local"
 cache, to ensure that future cells in that segment can be answered
 without a call to the cache manager. (That is probably 1000x faster.)</p>

 <p>The cache manager does not inform where client where each segment
 came from. There are several possibilities:</p>

 <ul>
     <li>Segment was already in cache (header and body)</li>
     <li>Segment is in the process of being loaded by executing a SQL
     statement (probably due to a request from another client)</li>
     <li>Segment is in an external cache (that is, header is in the cache,
        body is not yet)</li>
     <li>Segment can be created by rolling up one or more cache segments.
        (And of course each of these segments might be "paged out".)</li>
     <li>By executing a SQL <code>GROUP BY</code> statement</li>
 </ul>

 <p>Furthermore, segments in external cache may take some time to retrieve
 (a LAN round trip, say 1 millisecond, is a reasonable guess); and the
 request may fail. (It depends on the cache, but caches are at liberty
 to 'forget' segments.) So, any strategy that relies on cache segments
 should be able to fall back. Even if there are fall backs, only one call
 needs to be made to the cache manager.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Whether any aggregations were loaded.</dd></dl>
</li>
</ul>
<a name="getDialect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDialect</h4>
<pre><a href="../../mondrian/spi/Dialect.html" title="interface in mondrian.spi">Dialect</a>&nbsp;getDialect()</pre>
<div class="block">Returns the SQL dialect. Overridden in some unit tests.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Dialect</dd></dl>
</li>
</ul>
<a name="setDirty(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setDirty</h4>
<pre>void&nbsp;setDirty(boolean&nbsp;dirty)</pre>
<div class="block">Sets the flag indicating that the reader has told a lie.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href="http://sourceforge.net/projects/mondrian"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=35302&type=15" width="150" height="40" border="0" alt='Get Mondrian at SourceForge.net. Fast, secure and free Open Source software downloads'></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../mondrian/rolap/DescendantsConstraint.html" title="class in mondrian.rolap"><span class="strong">Prev Class</span></a></li>
<li><a href="../../mondrian/rolap/FastBatchingCellReaderTest.html" title="class in mondrian.rolap"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?mondrian/rolap/FastBatchingCellReader.html" target="_top">Frames</a></li>
<li><a href="FastBatchingCellReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
