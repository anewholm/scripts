<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_01) on Fri Jul 22 11:20:35 EDT 2016 -->
<title>SegmentCacheIndex (Mondrian OLAP Engine, version 3.13-SNAPSHOT)</title>
<meta name="date" content="2016-07-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SegmentCacheIndex (Mondrian OLAP Engine, version 3.13-SNAPSHOT)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../mondrian/rolap/cache/MemorySegmentCache.html" title="class in mondrian.rolap.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../mondrian/rolap/cache/SegmentCacheIndexImpl.html" title="class in mondrian.rolap.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?mondrian/rolap/cache/SegmentCacheIndex.html" target="_top">Frames</a></li>
<li><a href="SegmentCacheIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">mondrian.rolap.cache</div>
<h2 title="Interface SegmentCacheIndex" class="title">Interface SegmentCacheIndex</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../mondrian/rolap/cache/SegmentCacheIndexImpl.html" title="class in mondrian.rolap.cache">SegmentCacheIndexImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">SegmentCacheIndex</span></pre>
<div class="block">Data structure that identifies which segments contain cells.

 <p>Not thread-safe.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Julian Hyde</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)">add</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
   <a href="../../../mondrian/rolap/agg/SegmentBuilder.SegmentConverter.html" title="interface in mondrian.rolap.agg">SegmentBuilder.SegmentConverter</a>&nbsp;converter,
   boolean&nbsp;loading)</code>
<div class="block">Adds a header to the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#cancel(mondrian.server.Execution)">cancel</a></strong>(<a href="../../../mondrian/server/Execution.html" title="class in mondrian.server">Execution</a>&nbsp;exec)</code>
<div class="block">This method must remove all registrations as a client
 for the given execution.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#contains(mondrian.spi.SegmentHeader)">contains</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header)</code>
<div class="block">Tells whether or not a given segment is known to this index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#findRollupCandidates(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, mondrian.rolap.BitKey, java.util.Map, java.util.List)">findRollupCandidates</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
                    <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
                    <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
                    <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
                    <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
                    <a href="../../../mondrian/rolap/BitKey.html" title="interface in mondrian.rolap">BitKey</a>&nbsp;constrainedColsBitKey,
                    <a href="http://java.sun.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&gt;&nbsp;coordinates,
                    <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates)</code>
<div class="block">Returns a list of segments that can be rolled up to satisfy a given
 cell request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../mondrian/rolap/agg/SegmentBuilder.SegmentConverter.html" title="interface in mondrian.rolap.agg">SegmentBuilder.SegmentConverter</a></code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#getConverter(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, java.util.List)">getConverter</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
            <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
            <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
            <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
            <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
            <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates)</code>
<div class="block">Returns a converter that can convert the given header to internal
 format.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../mondrian/spi/SegmentBody.html" title="interface in mondrian.spi">SegmentBody</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#getFuture(mondrian.server.Execution, mondrian.spi.SegmentHeader)">getFuture</a></strong>(<a href="../../../mondrian/server/Execution.html" title="class in mondrian.server">Execution</a>&nbsp;exec,
         <a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header)</code>
<div class="block">Returns a future slot for a segment body, if a segment is currently
 loading, otherwise null.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#intersectRegion(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, mondrian.spi.SegmentColumn[])">intersectRegion</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
               <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
               <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
               <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
               <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
               <a href="../../../mondrian/spi/SegmentColumn.html" title="class in mondrian.spi">SegmentColumn</a>[]&nbsp;region)</code>
<div class="block">Finds a list of headers that intersect a given region.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#linkSqlStatement(mondrian.spi.SegmentHeader, java.sql.Statement)">linkSqlStatement</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
                <a href="http://java.sun.com/javase/7/docs/api/java/sql/Statement.html?is-external=true" title="class or interface in java.sql">Statement</a>&nbsp;stmt)</code>
<div class="block">Allows to link a <a href="http://java.sun.com/javase/7/docs/api/java/sql/Statement.html?is-external=true" title="class or interface in java.sql"><code>Statement</code></a> to a segment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#loadFailed(mondrian.spi.SegmentHeader, java.lang.Throwable)">loadFailed</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
          <a href="http://java.sun.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;throwable)</code>
<div class="block">Notifies the segment index that a segment failed to load, and removes the
 segment from the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#loadSucceeded(mondrian.spi.SegmentHeader, mondrian.spi.SegmentBody)">loadSucceeded</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
             <a href="../../../mondrian/spi/SegmentBody.html" title="interface in mondrian.spi">SegmentBody</a>&nbsp;body)</code>
<div class="block">Changes the state of a header from loading to loaded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#locate(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, mondrian.rolap.BitKey, java.util.Map, java.util.List)">locate</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
      <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
      <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
      <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
      <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
      <a href="../../../mondrian/rolap/BitKey.html" title="interface in mondrian.rolap">BitKey</a>&nbsp;constrainedColsBitKey,
      <a href="http://java.sun.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&gt;&nbsp;coordinates,
      <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates)</code>
<div class="block">Identifies the segment headers that contain a given cell.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#printCacheState(java.io.PrintWriter)">printCacheState</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;pw)</code>
<div class="block">Prints the state of the cache to the given writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#remove(mondrian.spi.SegmentHeader)">remove</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header)</code>
<div class="block">Removes a header from the index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#setConverter(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, java.util.List, mondrian.rolap.agg.SegmentBuilder.SegmentConverter)">setConverter</a></strong>(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
            <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
            <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
            <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
            <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
            <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates,
            <a href="../../../mondrian/rolap/agg/SegmentBuilder.SegmentConverter.html" title="interface in mondrian.rolap.agg">SegmentBuilder.SegmentConverter</a>&nbsp;converter)</code>
<div class="block">Sets a converter that can convert headers in for a given measure to
 internal format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#update(mondrian.spi.SegmentHeader, mondrian.spi.SegmentHeader)">update</a></strong>(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;oldHeader,
      <a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;newHeader)</code>
<div class="block">Updates a header in the index.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="locate(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, mondrian.rolap.BitKey, java.util.Map, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locate</h4>
<pre><a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&gt;&nbsp;locate(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
                         <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
                         <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
                         <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
                         <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
                         <a href="../../../mondrian/rolap/BitKey.html" title="interface in mondrian.rolap">BitKey</a>&nbsp;constrainedColsBitKey,
                         <a href="http://java.sun.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&gt;&nbsp;coordinates,
                         <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates)</pre>
<div class="block">Identifies the segment headers that contain a given cell.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema name</dd><dd><code>schemaChecksum</code> - Schema checksum</dd><dd><code>cubeName</code> - Cube name</dd><dd><code>measureName</code> - Measure name</dd><dd><code>rolapStarFactTableName</code> - Fact table table</dd><dd><code>constrainedColsBitKey</code> - Bit key</dd><dd><code>coordinates</code> - Coordinates</dd><dd><code>compoundPredicates</code> - Compound predicates</dd>
<dt><span class="strong">Returns:</span></dt><dd>Empty list if not found; never null</dd></dl>
</li>
</ul>
<a name="findRollupCandidates(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, mondrian.rolap.BitKey, java.util.Map, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findRollupCandidates</h4>
<pre><a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&gt;&gt;&nbsp;findRollupCandidates(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
                                             <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
                                             <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
                                             <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
                                             <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
                                             <a href="../../../mondrian/rolap/BitKey.html" title="interface in mondrian.rolap">BitKey</a>&nbsp;constrainedColsBitKey,
                                             <a href="http://java.sun.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://java.sun.com/javase/7/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&gt;&nbsp;coordinates,
                                             <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates)</pre>
<div class="block">Returns a list of segments that can be rolled up to satisfy a given
 cell request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema name</dd><dd><code>schemaChecksum</code> - Schema checksum</dd><dd><code>cubeName</code> - Cube name</dd><dd><code>measureName</code> - Measure name</dd><dd><code>rolapStarFactTableName</code> - Fact table table</dd><dd><code>constrainedColsBitKey</code> - Bit key</dd><dd><code>coordinates</code> - Coordinates</dd><dd><code>compoundPredicates</code> - Compound predicates</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of candidates; each element is a list of headers that, when
 combined using union, are sufficient to answer the given cell request</dd></dl>
</li>
</ul>
<a name="intersectRegion(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, mondrian.spi.SegmentColumn[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>intersectRegion</h4>
<pre><a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&gt;&nbsp;intersectRegion(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
                                  <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
                                  <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
                                  <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
                                  <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
                                  <a href="../../../mondrian/spi/SegmentColumn.html" title="class in mondrian.spi">SegmentColumn</a>[]&nbsp;region)</pre>
<div class="block">Finds a list of headers that intersect a given region.

 <p>This method is used to find out which headers need to be trimmed
 or removed during a flush.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema name</dd><dd><code>schemaChecksum</code> - Schema checksum</dd><dd><code>cubeName</code> - Cube name</dd><dd><code>measureName</code> - Measure name</dd><dd><code>rolapStarFactTableName</code> - Fact table table</dd><dd><code>region</code> - Region</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of intersecting headers</dd></dl>
</li>
</ul>
<a name="add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>void&nbsp;add(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
       <a href="../../../mondrian/rolap/agg/SegmentBuilder.SegmentConverter.html" title="interface in mondrian.rolap.agg">SegmentBuilder.SegmentConverter</a>&nbsp;converter,
       boolean&nbsp;loading)</pre>
<div class="block">Adds a header to the index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - Segment header</dd><dd><code>loading</code> - Whether segment is pending a load from SQL</dd><dd><code>converter</code> - Segment converter</dd></dl>
</li>
</ul>
<a name="update(mondrian.spi.SegmentHeader, mondrian.spi.SegmentHeader)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>void&nbsp;update(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;oldHeader,
          <a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;newHeader)</pre>
<div class="block">Updates a header in the index. This is required when some of the
 excluded regions have changed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>oldHeader</code> - The old header to replace.</dd><dd><code>newHeader</code> - The new header to use instead.</dd></dl>
</li>
</ul>
<a name="loadSucceeded(mondrian.spi.SegmentHeader, mondrian.spi.SegmentBody)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSucceeded</h4>
<pre>void&nbsp;loadSucceeded(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
                 <a href="../../../mondrian/spi/SegmentBody.html" title="interface in mondrian.spi">SegmentBody</a>&nbsp;body)</pre>
<div class="block">Changes the state of a header from loading to loaded.

 <p>The segment must have previously been added by calling <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)"><code>add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)</code></a>
 with a not-null value of the <code>bodyFuture</code> parameter;
 neither <code>loadSucceeded</code> nor <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#loadFailed(mondrian.spi.SegmentHeader, java.lang.Throwable)"><code>loadFailed(mondrian.spi.SegmentHeader, java.lang.Throwable)</code></a> must have been
 called.</p>

 <p>Informs anyone waiting on the future supplied with
 <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)"><code>add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)</code></a>.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - Segment header</dd><dd><code>body</code> - Segment body</dd></dl>
</li>
</ul>
<a name="loadFailed(mondrian.spi.SegmentHeader, java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadFailed</h4>
<pre>void&nbsp;loadFailed(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
              <a href="http://java.sun.com/javase/7/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;throwable)</pre>
<div class="block">Notifies the segment index that a segment failed to load, and removes the
 segment from the index.

 <p>The segment must have previously been added using <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)"><code>add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)</code></a>
 with a not-null value of the <code>bodyFuture</code> parameter;
 neither <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#loadSucceeded(mondrian.spi.SegmentHeader, mondrian.spi.SegmentBody)"><code>loadSucceeded(mondrian.spi.SegmentHeader, mondrian.spi.SegmentBody)</code></a> nor <code>loadFailed</code> must have been
 called.</p>

 <p>Informs anyone waiting on the future supplied with
 <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)"><code>add(mondrian.spi.SegmentHeader, mondrian.rolap.agg.SegmentBuilder.SegmentConverter, boolean)</code></a>.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - Header</dd><dd><code>throwable</code> - Error message</dd></dl>
</li>
</ul>
<a name="remove(mondrian.spi.SegmentHeader)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>void&nbsp;remove(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header)</pre>
<div class="block">Removes a header from the index.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - Segment header</dd></dl>
</li>
</ul>
<a name="printCacheState(java.io.PrintWriter)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printCacheState</h4>
<pre>void&nbsp;printCacheState(<a href="http://java.sun.com/javase/7/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;pw)</pre>
<div class="block">Prints the state of the cache to the given writer.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pw</code> - Print writer</dd></dl>
</li>
</ul>
<a name="getFuture(mondrian.server.Execution, mondrian.spi.SegmentHeader)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFuture</h4>
<pre><a href="http://java.sun.com/javase/7/docs/api/java/util/concurrent/Future.html?is-external=true" title="class or interface in java.util.concurrent">Future</a>&lt;<a href="../../../mondrian/spi/SegmentBody.html" title="interface in mondrian.spi">SegmentBody</a>&gt;&nbsp;getFuture(<a href="../../../mondrian/server/Execution.html" title="class in mondrian.server">Execution</a>&nbsp;exec,
                            <a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header)</pre>
<div class="block">Returns a future slot for a segment body, if a segment is currently
 loading, otherwise null. This is the method to use to get segments
 'hot out of the oven'.

 <p>When this method is invoked, the execution instance of the
 thread is automatically added to the list of clients for the
 given segment. The calling code is responsible for calling
 <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#cancel(mondrian.server.Execution)"><code>cancel(Execution)</code></a> when it is done with the segments,
 or else this registration will prevent others from canceling
 the running SQL statements associated to this segment.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - Segment header</dd>
<dt><span class="strong">Returns:</span></dt><dd>Slot, or null</dd></dl>
</li>
</ul>
<a name="cancel(mondrian.server.Execution)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>void&nbsp;cancel(<a href="../../../mondrian/server/Execution.html" title="class in mondrian.server">Execution</a>&nbsp;exec)</pre>
<div class="block">This method must remove all registrations as a client
 for the given execution.

 This must terminate all SQL activity for any orphaned
 segments.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>exec</code> - The execution to unregister.</dd></dl>
</li>
</ul>
<a name="contains(mondrian.spi.SegmentHeader)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>boolean&nbsp;contains(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header)</pre>
<div class="block">Tells whether or not a given segment is known to this index.</div>
</li>
</ul>
<a name="linkSqlStatement(mondrian.spi.SegmentHeader, java.sql.Statement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>linkSqlStatement</h4>
<pre>void&nbsp;linkSqlStatement(<a href="../../../mondrian/spi/SegmentHeader.html" title="class in mondrian.spi">SegmentHeader</a>&nbsp;header,
                    <a href="http://java.sun.com/javase/7/docs/api/java/sql/Statement.html?is-external=true" title="class or interface in java.sql">Statement</a>&nbsp;stmt)</pre>
<div class="block">Allows to link a <a href="http://java.sun.com/javase/7/docs/api/java/sql/Statement.html?is-external=true" title="class or interface in java.sql"><code>Statement</code></a> to a segment. This allows
 the index to cleanup when <a href="../../../mondrian/rolap/cache/SegmentCacheIndex.html#cancel(mondrian.server.Execution)"><code>cancel(Execution)</code></a> is
 invoked and orphaned segments are left.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>header</code> - The segment.</dd><dd><code>stmt</code> - The SQL statement.</dd></dl>
</li>
</ul>
<a name="getConverter(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConverter</h4>
<pre><a href="../../../mondrian/rolap/agg/SegmentBuilder.SegmentConverter.html" title="interface in mondrian.rolap.agg">SegmentBuilder.SegmentConverter</a>&nbsp;getConverter(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
                                           <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
                                           <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
                                           <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
                                           <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
                                           <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates)</pre>
<div class="block">Returns a converter that can convert the given header to internal
 format.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema name</dd><dd><code>schemaChecksum</code> - Schema checksum</dd><dd><code>cubeName</code> - Cube name</dd><dd><code>rolapStarFactTableName</code> - Fact table</dd><dd><code>measureName</code> - Measure name</dd><dd><code>compoundPredicates</code> - Compound predicates</dd>
<dt><span class="strong">Returns:</span></dt><dd>Converter</dd></dl>
</li>
</ul>
<a name="setConverter(java.lang.String, mondrian.util.ByteString, java.lang.String, java.lang.String, java.lang.String, java.util.List, mondrian.rolap.agg.SegmentBuilder.SegmentConverter)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setConverter</h4>
<pre>void&nbsp;setConverter(<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schemaName,
                <a href="../../../mondrian/util/ByteString.html" title="class in mondrian.util">ByteString</a>&nbsp;schemaChecksum,
                <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;cubeName,
                <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rolapStarFactTableName,
                <a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;measureName,
                <a href="http://java.sun.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://java.sun.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;compoundPredicates,
                <a href="../../../mondrian/rolap/agg/SegmentBuilder.SegmentConverter.html" title="interface in mondrian.rolap.agg">SegmentBuilder.SegmentConverter</a>&nbsp;converter)</pre>
<div class="block">Sets a converter that can convert headers in for a given measure to
 internal format.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>schemaName</code> - Schema name</dd><dd><code>schemaChecksum</code> - Schema checksum</dd><dd><code>cubeName</code> - Cube name</dd><dd><code>rolapStarFactTableName</code> - Fact table</dd><dd><code>measureName</code> - Measure name</dd><dd><code>compoundPredicates</code> - Compound predicates</dd><dd><code>converter</code> - Converter to store</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href="http://sourceforge.net/projects/mondrian"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=35302&type=15" width="150" height="40" border="0" alt='Get Mondrian at SourceForge.net. Fast, secure and free Open Source software downloads'></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../mondrian/rolap/cache/MemorySegmentCache.html" title="class in mondrian.rolap.cache"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../mondrian/rolap/cache/SegmentCacheIndexImpl.html" title="class in mondrian.rolap.cache"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?mondrian/rolap/cache/SegmentCacheIndex.html" target="_top">Frames</a></li>
<li><a href="SegmentCacheIndex.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
